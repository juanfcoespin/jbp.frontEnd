<div style="padding: 20px;">
    <table align="center" *ngIf="estadoCuenta">
        <tr>
            <td class="origenInfoTitle" colspan="2">Informaci贸n Promotick</td>
        </tr>
        <tr>
            <td style="padding-right: 20px;"><b>Mensaje del Servidor Promotick:</b></td>
            <td>
                {{estadoCuenta.mensaje}} <mat-progress-spinner *ngIf="procesando" [mode]="'indeterminate'" [diameter]="30"></mat-progress-spinner>
            </td>
        </tr>
        <tr>
            <td><b>Participante:</b></td>
            <td>{{estadoCuenta.data.participante}}</td>
        </tr>
         <tr>
            <td><b>Monto Facturaci贸n:</b></td>
            <td>{{estadoCuenta.data.montoFacturacion}}</td>
        </tr>
        <tr>
            <td><b>Puntos Disponibles:</b></td>
            <td>{{estadoCuenta.data.puntosDisponibles}}</td>
        </tr>
        <tr>
            <td><b>Puntos Canjeados:</b></td>
            <td>{{estadoCuenta.data.puntosCanjeados}}</td>
        </tr>
        <tr *ngIf="estadoCuenta.data">
            <td colspan="2">
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Total Puntos</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="resaltar" *ngFor="let c of estadoCuenta.data.canjes">
                            <td>{{c.fecha}}</td>
                            <td align="right">{{c.totalPuntos}}</td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        <tr>
            <td style="padding-top: 20px;" colspan="2"></td>
        </tr>
        <tr>
            <td class="origenInfoTitle" colspan="2">Informaci贸n SAP</td>
        </tr>
        <tr>
            <td><b>Meta Anual:</b></td>
            <td>USD {{participante.metaAnual}}</td>
        </tr>
        <tr>
            <td><b>Meta Mensual:</b></td>
            <td>USD {{metaMensual.toFixed(2)}}</td>
        </tr>
        <tr>
            <td><b>Email:</b></td>
            <td>{{participante.email}}</td>
        </tr>
        <tr>
            <td><b>Tipo Participante:</b></td>
            <td>{{participante.idCatalogo==1?'A':'B'}}</td>
        </tr>
         <!-- <tr>
            <td><b>Acreditaci贸n de puntos imediata:</b></td>
            <td>{{participante.Elite?'Si':'No'}}</td>
        </tr> -->
        <tr>
            <td><b>Vendedor:</b></td>
            <td>{{participante.vendedor}}</td>
        </tr>
        <tr>
            <td><b>Comentario:</b></td>
            <td>{{participante.Comentario}}</td>
        </tr>
        <tr>
            <td style="padding-top: 20px;" colspan="2"></td>
        </tr>
        <tr>
            <td class="origenInfoTitle" colspan="2">Detalle Puntos</td>
        </tr>
        <tr *ngFor="let obj of documentosPorMes">
            <td colspan="2">
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <table>
                                    <tr>
                                        <td><b>Mes</b></td>
                                        <td><b>Monto</b></td>
                                        <td><b>Para cumplir meta</b></td>
                                        <td><b>Puntos</b></td>
                                    </tr>
                                    <tr>
                                        <td>{{obj.mes}}</td>
                                        <td *ngIf="obj.cumpleMetaMes" style="color: green;">USD {{obj.monto}}</td>
                                        <td *ngIf="!obj.cumpleMetaMes" style="color: red;">USD {{obj.monto}}</td>
                                        <td style="color: rgb(0, 195, 255);" align="right">USD {{obj.paraCumplirMeta.toFixed(2)}}</td>
                                        <td>{{obj.puntos}}</td>
                                    </tr>
                                </table>    
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <table align="center">
                            <thead>
                                <tr style="background-color: black; color: white;">
                                    <th>Ruc</th>
                                    <th>Ruc Principal</th>
                                    <th>Fecha</th>
                                    <th>Tipo Documento</th>
                                    <th>Numero Documento</th>
                                    <th>Monto</th>
                                    <th>Puntos</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="resaltar" *ngFor="let d of obj.documentos">
                                    <td>{{d.ruc}}</td>
                                    <td>{{d.rucPrincipal}}</td>
                                    <td>{{d.fechaDocumento}}</td>
                                    <td>{{d.tipoDocumento}}</td>
                                    <td>{{d.numDocumento}}</td>
                                    <td>USD {{d.monto}}</td>
                                    <td>{{d.puntos}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </mat-expansion-panel>
                </mat-accordion>
                            
            </td>
        </tr>
    </table>
    
</div>
